<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>News - 11 series &#8212; Mroonga v13.05 documentation</title>
    <link rel="stylesheet" type="text/css" href="../static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../static/mroonga.css" />
    
    <script data-url_root="../" id="documentation_options" src="../static/documentation_options.js"></script>
    <script src="../static/doctools.js"></script>
    <script src="../static/sphinx_highlight.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
      <meta property="fb:page_id" content="238184682903165" /><!-- mroonga -->
    <meta property="fb:admins" content="664204556" /><!-- kouhei.sutou -->
    <meta property="og:type" content="product" />
    <meta property="og:image" content="http://mroonga.org/images/logos/mroonga-icon-full-size.png" />
    <meta property="og:site_name" content="mroonga" />

    <link rel="stylesheet" href="/css/sphinx.css" type="text/css" />
  </head>
  <body>
    <div id="fb-root"></div>

<div class="header">
  <h1 class="title">
    <a id="top-link" href="../../">
      <span class="project">mroonga</span>
      <span class="separator">-</span>
      <span class="description">An open-source storage engine for fast fulltext search with MySQL.</span>
    </a>
  </h1>

      <div class="facebook-buttons">
      <fb:like href="http://www.facebook.com/pages/mroonga/238184682903165"
               layout="standard"
               width="290"></fb:like>
    </div>
    <div class="other-language-links">

    <ul>
      <li><a href="../../ja/docs/news/11.html" title="日本語">日本語</a></li>
    </ul>
  </div>
</div>
  

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="../index.html">Mroonga v13.05 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">News - 11 series</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="news-11-series">
<h1>News - 11 series<a class="headerlink" href="#news-11-series" title="Permalink to this heading">¶</a></h1>
<section id="release-11-13-2022-01-29">
<span id="release-11-13"></span><h2>Release 11.13 - 2022-01-29<a class="headerlink" href="#release-11-13-2022-01-29" title="Permalink to this heading">¶</a></h2>
<section id="improvements">
<h3>Improvements<a class="headerlink" href="#improvements" title="Permalink to this heading">¶</a></h3>
<ul>
<li><p>[<a class="reference internal" href="../install/centos.html"><span class="doc">CentOS</span></a>] Added support for MySQL 5.7.37.</p></li>
<li><p>[<a class="reference internal" href="../install/centos.html"><span class="doc">CentOS</span></a>][<a class="reference internal" href="../install/almalinux.html"><span class="doc">AlmaLinux</span></a>] Added support for MySQL 8.0.28.</p>
<p>There are below restrictions in the MySQL 8.0 package.</p>
<blockquote>
<div><ul class="simple">
<li><p>[<a class="reference internal" href="../tutorial/wrapper.html"><span class="doc">Wrapper mode</span></a>] Wrapper mode is not supported yet.</p></li>
<li><p>[<a class="reference internal" href="../tutorial/storage.html"><span class="doc">Storage mode</span></a>] Storage mode does not support the following feature.</p>
<ul>
<li><p>The feature of relevant to the optimization.</p></li>
</ul>
</li>
</ul>
</div></blockquote>
</li>
<li><p>[<a class="reference internal" href="../install/centos.html"><span class="doc">CentOS</span></a>][<a class="reference internal" href="../install/almalinux.html"><span class="doc">AlmaLinux</span></a>] Added support for Percona Server 8.0.26-17.</p></li>
<li><p>[<a class="reference internal" href="../install/ubuntu.html"><span class="doc">Ubuntu</span></a>] Dropped Ubuntu 21.04 (Hirsute Hippo) support.</p>
<ul class="simple">
<li><p>Because Ubuntu 21.04 reached EOL at January 20, 2022.</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="release-11-11-2021-12-29">
<span id="release-11-11"></span><h2>Release 11.11 - 2021-12-29<a class="headerlink" href="#release-11-11-2021-12-29" title="Permalink to this heading">¶</a></h2>
<section id="id1">
<h3>Improvements<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h3>
<ul>
<li><p>[<a class="reference internal" href="../install/centos.html"><span class="doc">CentOS</span></a>] Dropped support for CentOS 8.</p>
<p>Because CentOS 8 will reach EOL at 2021-12-31.</p>
</li>
</ul>
</section>
<section id="fixes">
<h3>Fixes<a class="headerlink" href="#fixes" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>[<a class="reference internal" href="../install/almalinux.html"><span class="doc">AlmaLinux</span></a>] Fixed a bug that we have not provided the package of Mroonga for MariaDB 10.3, 10.4, 10.5, and 10.6. [Gitter][Reported by shibanao4870]</p></li>
<li><p>[Documentation][<a class="reference internal" href="../install.html"><span class="doc">Install</span></a>] Fixed a typo. [GitHub #469,#470][Patched by Marc Laporte]</p></li>
<li><p>[Documentation][<a class="reference internal" href="../install/centos.html"><span class="doc">CentOS</span></a>] Fixed the wrong URL of <code class="docutils literal notranslate"><span class="pre">percona-release-latest.noarch.rpm</span></code>. [GitHub #471][Patched by santalex]</p></li>
</ul>
</section>
<section id="thanks">
<h3>Thanks<a class="headerlink" href="#thanks" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>shibanao4870</p></li>
<li><p>Marc Laporte</p></li>
<li><p>santalex</p></li>
</ul>
</section>
</section>
<section id="release-11-10-2021-11-29">
<span id="release-11-10"></span><h2>Release 11.10 - 2021-11-29<a class="headerlink" href="#release-11-10-2021-11-29" title="Permalink to this heading">¶</a></h2>
<section id="id2">
<h3>Improvements<a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>[<a class="reference internal" href="../install/almalinux.html"><span class="doc">AlmaLinux</span></a>] Added support for Mroonga on AlamLinux 8.</p></li>
</ul>
<blockquote>
<div><ul>
<li><p>[<a class="reference internal" href="../install/almalinux.html"><span class="doc">AlmaLinux</span></a>] Added support for MySQL 8.0.27.</p>
<blockquote>
<div><ul class="simple">
<li><p>There are below restrictions in the MySQL 8.0 package.</p>
<ul>
<li><p>[<a class="reference internal" href="../tutorial/wrapper.html"><span class="doc">Wrapper mode</span></a>] Wrapper mode is not supported yet.</p></li>
<li><p>[<a class="reference internal" href="../tutorial/storage.html"><span class="doc">Storage mode</span></a>] Storage mode does not support the following feature.</p>
<ul>
<li><p>The feature of relevant to the optimization.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div></blockquote>
</li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>[<a class="reference internal" href="../install/almalinux.html"><span class="doc">AlmaLinux</span></a>] Added support for Percona Server 8.0.26.</p></li>
<li><p>[<a class="reference internal" href="../install/almalinux.html"><span class="doc">AlmaLinux</span></a>] Added support for MariaDB 10.3.32, 10.4.22, 10.5.13, and 10.6.5.</p></li>
</ul>
</div></blockquote>
</div></blockquote>
<ul class="simple">
<li><p>[<a class="reference internal" href="../install/centos.html"><span class="doc">CentOS</span></a>] Added support for MariaDB 10.2.41, 10.3.32, 10.4.22, 10.5.13, and 10.6.5.</p></li>
<li><p>[<a class="reference internal" href="../install/ubuntu.html"><span class="doc">Ubuntu</span></a>] Added support for MySQL 8.0 on Ubuntu 21.04 (Hirsute Hippo) and 21.10 (Impish Indri).</p>
<ul>
<li><p>There are below restrictions in the MySQL 8.0 package.</p>
<ul>
<li><p>[<a class="reference internal" href="../tutorial/wrapper.html"><span class="doc">Wrapper mode</span></a>] Wrapper mode is not supported yet.</p></li>
<li><p>[<a class="reference internal" href="../tutorial/storage.html"><span class="doc">Storage mode</span></a>] Storage mode does not support the following feature.</p>
<ul>
<li><p>The feature of relevant to the optimization.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
<section id="id3">
<h3>Fixes<a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h3>
<ul>
<li><p>[<a class="reference internal" href="../install/centos.html"><span class="doc">CentOS</span></a>] Fixed a bug that we have not provided the package of Mroonga for MariaDB 10.6.</p></li>
<li><p>[<a class="reference internal" href="../reference/optimizations.html"><span class="doc">Optimizations</span></a>] Fixed a bug that Mroonga apply the optimization of row count wrongly.
[MDEV-16922][Reported by Josep Sanz]</p>
<p>Normally, Mroonga apply the optimization of row count when the <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> fetches only <code class="docutils literal notranslate"><span class="pre">COUNT(*)</span></code> and
condition in <code class="docutils literal notranslate"><span class="pre">WHERE</span></code> can be processed only by index.</p>
<p>However, Mroonga applied the optimization of row count even if Mroonga couldn’t process condition
in <code class="docutils literal notranslate"><span class="pre">WHERE</span></code> only by index as below case by this bug.</p>
<p>Consequently, the result of <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">COUNT(*)</span> <span class="pre">WHERE</span> <span class="pre">...</span></code> is wrong.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">roles</span> <span class="p">(</span>
  <span class="nb">id</span> <span class="n">INT</span>
<span class="p">);</span>

<span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">roles</span> <span class="n">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">);</span>

<span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">users</span> <span class="p">(</span>
  <span class="nb">id</span> <span class="n">INT</span><span class="p">,</span>
  <span class="n">role_id</span> <span class="n">INT</span><span class="p">,</span>
  <span class="n">INDEX</span> <span class="p">(</span><span class="n">role_id</span><span class="p">)</span>
<span class="p">);</span>

<span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">users</span> <span class="n">VALUES</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">users</span> <span class="n">VALUES</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">users</span> <span class="n">VALUES</span> <span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">users</span> <span class="n">VALUES</span> <span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>
<span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">users</span> <span class="n">VALUES</span> <span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>
<span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">users</span> <span class="n">VALUES</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">users</span> <span class="n">VALUES</span> <span class="p">(</span><span class="mi">21</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">users</span> <span class="n">VALUES</span> <span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">users</span> <span class="n">VALUES</span> <span class="p">(</span><span class="mi">24</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>
<span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">users</span> <span class="n">VALUES</span> <span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>

<span class="n">SELECT</span> <span class="n">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span>
  <span class="n">FROM</span> <span class="p">(</span>
    <span class="n">SELECT</span> <span class="n">roles</span><span class="o">.</span><span class="n">id</span>
      <span class="n">FROM</span> <span class="n">roles</span>
           <span class="n">LEFT</span> <span class="n">JOIN</span> <span class="n">users</span> <span class="n">ON</span> <span class="n">users</span><span class="o">.</span><span class="n">id</span> <span class="o">&lt;=</span> <span class="mi">100</span> <span class="n">AND</span>
                              <span class="n">users</span><span class="o">.</span><span class="n">role_id</span> <span class="o">=</span> <span class="n">roles</span><span class="o">.</span><span class="n">id</span>
  <span class="p">)</span> <span class="n">roles_users</span><span class="p">;</span>
</pre></div>
</div>
</li>
<li><p>Fixed a bug that Mroonga doesn’t set proper encoding on condition push down for ‘STRING_FIELD =’. [groonga-dev,04913][Reported by Tomohiro ‘Tomo-p’ KATO]</p>
<p>Mroonga executes condition push down for ‘STRING_FIELD =’ in the following case.
However, Mroonga doesn’t set proper encoding in search keywords at this time.
Consequently, Mroonga fails to normalize search keywords.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">memos</span> <span class="p">(</span>
  <span class="nb">id</span> <span class="n">INT</span> <span class="n">PRIMARY</span> <span class="n">KEY</span><span class="p">,</span>
  <span class="n">title</span> <span class="n">TEXT</span><span class="p">,</span>
  <span class="n">INDEX</span> <span class="p">(</span><span class="n">title</span><span class="p">)</span>
<span class="p">)</span> <span class="n">ENGINE</span><span class="o">=</span><span class="n">Mroonga</span> <span class="n">DEFAULT</span> <span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8mb4</span><span class="p">;</span>

<span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">memos</span> <span class="n">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;Groonga&#39;</span><span class="p">);</span>
<span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">memos</span> <span class="n">VALUES</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;Mroonga&#39;</span><span class="p">);</span>

<span class="n">SELECT</span> <span class="o">*</span>
  <span class="n">FROM</span> <span class="n">memos</span>
  <span class="n">WHERE</span> <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;mroonga&#39;</span>
  <span class="n">ORDER</span> <span class="n">BY</span> <span class="nb">id</span><span class="p">;</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="id4">
<h3>Thanks<a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Josep Sanz</p></li>
<li><p>Tomohiro KATO</p></li>
</ul>
</section>
</section>
<section id="release-11-09-2021-11-04">
<span id="release-11-09"></span><h2>Release 11.09 - 2021-11-04<a class="headerlink" href="#release-11-09-2021-11-04" title="Permalink to this heading">¶</a></h2>
<section id="id5">
<h3>Improvements<a class="headerlink" href="#id5" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>[<a class="reference internal" href="../install/centos.html"><span class="doc">CentOS</span></a>] Added support for MySQL 5.7.36, 8.0.27.</p></li>
<li><p>[<a class="reference internal" href="../install/centos.html"><span class="doc">CentOS</span></a>] Added support for Percona Server 8.0.26.</p></li>
</ul>
</section>
</section>
<section id="release-11-08-2021-10-06">
<span id="release-11-08"></span><h2>Release 11.08 - 2021-10-06<a class="headerlink" href="#release-11-08-2021-10-06" title="Permalink to this heading">¶</a></h2>
<section id="id6">
<h3>Fixes<a class="headerlink" href="#id6" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fixed a bug that Mroonga crashed when we upgrade DB created by MySQL 5.7 to MySQL 8.0.</p></li>
</ul>
</section>
</section>
<section id="release-11-07-2021-09-29">
<span id="release-11-07"></span><h2>Release 11.07 - 2021-09-29<a class="headerlink" href="#release-11-07-2021-09-29" title="Permalink to this heading">¶</a></h2>
<blockquote>
<div><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Mroonga has had a bug that if we upgrade DB created by MySQL 5.7 to MySQL 8.0, Mroonga crashes.</p>
<p>We fixed this bug on Mroonga 11.08.
Therefore, if you were using Mroonga on MySQL 5.7 or previous version,
we highly recommended that we use Mroonga 11.08 or later.</p>
</div>
</div></blockquote>
<section id="id7">
<h3>Improvements<a class="headerlink" href="#id7" title="Permalink to this heading">¶</a></h3>
<ul>
<li><p>[<a class="reference internal" href="../install/ubuntu.html"><span class="doc">Ubuntu</span></a>] Added support for MySQL 8.0 on Ubuntu 20.04 (Focal Fossa).</p>
<ul class="simple">
<li><p>There are below restrictions in the MySQL 8.0 package.</p>
<ul>
<li><p>[<a class="reference internal" href="../tutorial/wrapper.html"><span class="doc">Wrapper mode</span></a>] Wrapper mode is not supported yet.</p></li>
<li><p>[<a class="reference internal" href="../tutorial/storage.html"><span class="doc">Storage mode</span></a>] Storage mode does not support the following feature.</p>
<ul>
<li><p>The feature of relevant to the optimization.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>[<a class="reference internal" href="../reference/udf/mroonga_snippet_html.html"><span class="doc">mroonga_snippet_html()</span></a>] Added support for specifying lexicon name.</p>
<ul>
<li><p>We can use custom normalizer in <code class="docutils literal notranslate"><span class="pre">mroonga_snippet_html()</span></code> by this feature as below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>CREATE TABLE terms (
  term VARCHAR(64) NOT NULL PRIMARY KEY
) COMMENT=&#39;normalizer &quot;NormalizerNFKC130(&#39;&#39;unify_kana&#39;&#39;, true)&quot;&#39;
  DEFAULT CHARSET=utf8mb4
  COLLATE=utf8mb4_unicode_ci;

SELECT mroonga_snippet_html(&#39;これはMroonga（ムルンガ）です。&#39;,
                            &#39;terms&#39; as lexicon_name,
                            &#39;むるんが&#39;) as snippet;

snippet
&lt;div class=&quot;snippet&quot;&gt;これはMroonga（&lt;span class=&quot;keyword&quot;&gt;ムルンガ&lt;/span&gt;）です。&lt;/div&gt;
</pre></div>
</div>
</li>
</ul>
</li>
<li><p>Added support for outputting vector column values as text not raw binary.</p>
<ul class="simple">
<li><p>We can use <code class="docutils literal notranslate"><span class="pre">mysqldump</span></code> for dumping vector column values by this feature.</p></li>
</ul>
</li>
<li><p>Don’t create .mrn files if nonexistent table is dropped. [groonga-dev: 04893][Reported by kenichi arimoto]</p></li>
<li><p>Added support for W pragma against elements of vector column.</p>
<ul class="simple">
<li><p>We can set the weight to elements of vector column by this feature.
However, Mroonga only search the specified section in this case.
In a normal multiple column index, Mroonga also searches not specified sections with the default weight.</p></li>
</ul>
</li>
</ul>
</section>
<section id="id8">
<h3>Fixes<a class="headerlink" href="#id8" title="Permalink to this heading">¶</a></h3>
<ul>
<li><p>Fixed a bug that if we use “WHERE primary_key IN (“”)” in a where clause, Mroonga may return wrong record. [groonga-dev,04855][Reported by Katsuhito Watanabe]</p>
<ul>
<li><p>For example, Mroonga may return wrong record as below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">ids</span> <span class="p">(</span>
  <span class="nb">id</span> <span class="n">varchar</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span> <span class="n">PRIMARY</span> <span class="n">KEY</span><span class="p">,</span>
  <span class="n">parent_id</span> <span class="n">varchar</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="p">)</span><span class="n">ENGINE</span><span class="o">=</span><span class="n">Mroonga</span> <span class="n">DEFAULT</span> <span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8mb4</span> <span class="n">COLLATE</span><span class="o">=</span><span class="n">utf8mb4_unicode_ci</span><span class="p">;</span>

<span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">ids</span> <span class="n">VALUES</span><span class="p">(</span><span class="s2">&quot;abcdefg&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">);</span>
<span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">ids</span> <span class="n">VALUES</span><span class="p">(</span><span class="s2">&quot;hijklmn&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">);</span>
<span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">ids</span> <span class="n">VALUES</span><span class="p">(</span><span class="s2">&quot;opqrstu&quot;</span><span class="p">,</span> <span class="s2">&quot;hijklmn&quot;</span><span class="p">);</span>

<span class="n">SELECT</span> <span class="o">*</span> <span class="n">FROM</span> <span class="n">ids</span> <span class="n">WHERE</span> <span class="nb">id</span> <span class="n">IN</span> <span class="p">(</span><span class="n">SELECT</span> <span class="n">parent_id</span> <span class="n">FROM</span> <span class="n">ids</span><span class="p">);</span>
<span class="o">+---------+-----------+</span>
<span class="o">|</span> <span class="nb">id</span>      <span class="o">|</span> <span class="n">parent_id</span> <span class="o">|</span>
<span class="o">+---------+-----------+</span>
<span class="o">|</span> <span class="n">abcdefg</span> <span class="o">|</span>           <span class="o">|</span>
<span class="o">|</span> <span class="n">hijklmn</span> <span class="o">|</span>           <span class="o">|</span>
<span class="o">+---------+-----------+</span>
<span class="mi">2</span> <span class="n">rows</span> <span class="ow">in</span> <span class="nb">set</span> <span class="p">(</span><span class="mf">0.00</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
</li>
</ul>
</section>
<section id="id9">
<h3>Thanks<a class="headerlink" href="#id9" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Katsuhito Watanabe</p></li>
<li><p>kenichi arimoto</p></li>
</ul>
</section>
</section>
<section id="release-11-06-2021-08-29">
<span id="release-11-06"></span><h2>Release 11.06 - 2021-08-29<a class="headerlink" href="#release-11-06-2021-08-29" title="Permalink to this heading">¶</a></h2>
<section id="id10">
<h3>Improvements<a class="headerlink" href="#id10" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>[<a class="reference internal" href="../install/centos.html"><span class="doc">CentOS</span></a>] Added support for MariaDB 10.2.40, 10.3.31, 10.4.21, and 10.5.12</p></li>
<li><p>[<a class="reference internal" href="../install/centos.html"><span class="doc">CentOS</span></a>] Added support for MariaDB 10.6.4 [GitHub#434][Patched by Tomohiro KATO]</p></li>
<li><p>[<a class="reference internal" href="../install/centos.html"><span class="doc">CentOS</span></a>] Added support for Percona Server 5.7.35.</p></li>
<li><p>[<a class="reference internal" href="../install/debian.html"><span class="doc">Debian GNU/Linux</span></a>] Added support for Debian 11 (bullseye).</p></li>
</ul>
</section>
<section id="id11">
<h3>Thanks<a class="headerlink" href="#id11" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Tomohiro KATO</p></li>
</ul>
</section>
</section>
<section id="release-11-05-2021-07-30">
<span id="release-11-05"></span><h2>Release 11.05 - 2021-07-30<a class="headerlink" href="#release-11-05-2021-07-30" title="Permalink to this heading">¶</a></h2>
<section id="id12">
<h3>Improvements<a class="headerlink" href="#id12" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>[<a class="reference internal" href="../install/centos.html"><span class="doc">CentOS</span></a>] Added support for Percona Server 8.0.25</p></li>
<li><p>[<a class="reference internal" href="../install/centos.html"><span class="doc">CentOS</span></a>] Added support for MySQL 5.7.35, 8.0.26.</p>
<ul>
<li><p>There are below restrictions in the MySQL 8.0 package.</p>
<ul>
<li><p>[<a class="reference internal" href="../tutorial/wrapper.html"><span class="doc">Wrapper mode</span></a>] Wrapper mode is not supported yet.</p></li>
<li><p>[<a class="reference internal" href="../tutorial/storage.html"><span class="doc">Storage mode</span></a>] Storage mode does not support the following feature.</p>
<ul>
<li><p>The feature of relevant to the optimization.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>[<a class="reference internal" href="../install/ubuntu.html"><span class="doc">Ubuntu</span></a>] Dropped Ubuntu 20.10 (Groovy Gorilla) support.</p>
<ul>
<li><p>Because Ubuntu 20.10 reached EOL July 22, 2021.</p></li>
</ul>
</li>
</ul>
</section>
<section id="id13">
<h3>Fixes<a class="headerlink" href="#id13" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fix a crash bug that may be caused after MySQL/MariaDB upgrade. [GitHub#423][Reported by Vincent Pelletier]</p>
<ul>
<li><p>Mronnga may crash if we execute <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">...</span> <span class="pre">MATCH</span> <span class="pre">AGAINST</span></code> after MySQL/MariaDB upgrade.</p></li>
</ul>
</li>
</ul>
</section>
<section id="id14">
<h3>Thanks<a class="headerlink" href="#id14" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Vincent Pelletier</p></li>
</ul>
</section>
</section>
<section id="release-11-04-2021-06-29">
<span id="release-11-04"></span><h2>Release 11.04 - 2021-06-29<a class="headerlink" href="#release-11-04-2021-06-29" title="Permalink to this heading">¶</a></h2>
<section id="id15">
<h3>Improvements<a class="headerlink" href="#id15" title="Permalink to this heading">¶</a></h3>
<ul>
<li><p>[<a class="reference internal" href="../reference/server_variables.html"><span class="doc">Server variables</span></a>] We disabled <code class="docutils literal notranslate"><span class="pre">mroonga_enable_operations_recording</span></code> by default.</p>
<p><code class="docutils literal notranslate"><span class="pre">mroonga_enable_operations_recording</span></code> to determine whether recording operations for auto recovering are enabled or not.</p>
<p>This recording of operations is for auto recovering Mroonga when it crashed.
Normally, if lock remain in Mroonga, we can’t execute INSERT/DELETE/UPDATE, but if <code class="docutils literal notranslate"><span class="pre">mroonga_enable_operations_recording</span></code> is enable, we may not execute SELECT at times in addition to INSERT/DELETE/UPDATE.
Because auto recovery is sometimes blocked by residual lock when they crashed.</p>
<p>Therefore, we set <code class="docutils literal notranslate"><span class="pre">OFF</span></code> to the default value in this version.
By we disable operation recording, INSERT/DELETE/UPDATE is blocked as usual because of the residual lock, but “SELECT” may bework.</p>
<p>An appropriate way to handle to residual lock is as follows.</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://www.clear-code.com/blog/2021/6/1/mroonga-recover-lock-failed-2021.html">https://www.clear-code.com/blog/2021/6/1/mroonga-recover-lock-failed-2021.html</a>
(Japanese only)</p></li>
</ul>
</div></blockquote>
</li>
<li><p>[<a class="reference internal" href="../install/debian.html"><span class="doc">Debian GNU/Linux</span></a>] Added a install procedure for Mroonga for Debian GNU/Linux with Oracle MySQL package.</p>
<p>We supoort Mroonga for Debian GNU/Linux with Oracle MySQL package in Mroonga 11.03.
We wrote install procedure for these package to this documentation.
When we will install these packages, please refer to this documentation.</p>
</li>
<li><p>[<a class="reference internal" href="../install/centos.html"><span class="doc">CentOS</span></a>] Added support for MariaDB 10.2.39, 10.3.30, 10.4.20, and 10.5.11.</p></li>
</ul>
</section>
<section id="id16">
<h3>Fixes<a class="headerlink" href="#id16" title="Permalink to this heading">¶</a></h3>
<ul>
<li><p>Fix a crash bag when we execute search</p>
<p><strong>This issue doesn’t occur under normal use.</strong></p>
<p>The occurrence condition is as below.</p>
<blockquote>
<div><ul class="simple">
<li><p>We directly make tables and columns on Groonga by using <code class="docutils literal notranslate"><span class="pre">mroonga_command</span></code>.</p></li>
<li><p>We execute search at the same time as delete the above tables and columns.</p></li>
</ul>
</div></blockquote>
<p>When the above conditions are established, Mroonga might crash.</p>
</li>
</ul>
</section>
</section>
<section id="release-11-03-2021-05-31">
<span id="release-11-03"></span><h2>Release 11.03 - 2021-05-31<a class="headerlink" href="#release-11-03-2021-05-31" title="Permalink to this heading">¶</a></h2>
<blockquote>
<div><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This release has had a critical bug about uninstall and upgrade.
If we install this version, we fail upgrade Mroonga and also uninstall it.</p>
<p>Therefore, please don’t use Mroonga of this version.</p>
<p>If we have already installed Mroonga of this version, we can upgrade Mroonga or uninstall it by using the following workaround.</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>% echo “#!/bin/sh” &gt; /usr/share/mroonga/deb/postrm.sh</p></li>
<li><p>% chmod u+x /usr/share/mroonga/deb/postrm.sh</p></li>
<li><p>Upgrade Mroonga or uninstall Mroonga.</p></li>
</ol>
</div></blockquote>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The package names are changed from this release.
Mroonga may be invalid after upgrade to this version by the influence of this modification.
If we upgrade to this version, please always be sure to confirm the below points.</p>
<p>If Mroonga is invalid after the upgrade, we need to install manually Mroonga again.
Please refer to the following URL about the manual installation of Mroonga and how to confirming whether Mroonga is valid or not.</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://mroonga.org/docs/tutorial/installation_check.html">https://mroonga.org/docs/tutorial/installation_check.html</a></p></li>
</ul>
</div></blockquote>
<p>Besides, please be careful the above phenomenon will continue from now if we will upgrade mroonga to stride over a Mroonga 11.03.</p>
<p>If Mroonga is valid after upgrade to this version but, Mroonga’s version is old, we need to restart MySQL, MariaDB, or PerconaServer.
We can confirm Mroonga’s version as the below command.</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">VARIABLES</span> <span class="pre">LIKE</span> <span class="pre">'mroonga_version';</span></code></p></li>
</ul>
</div></blockquote>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There are broken backward compatibility on this version.</p>
<p>Users that are using GEOMETRY type need to store the current data
before upgrading to Mroonga 11.03 and restore the stored data
after upgrading to Mroonga 11.03.</p>
<p>Please be careful if we upgrade to this version without executing the above procedure,
data is broken.</p>
<p>Users can use the following methods for dumping/restoring data.</p>
<blockquote>
<div><ul class="simple">
<li><p>mysqldump</p></li>
<li><p>Execute ALTER TABLE ENGINE=InnoDB before upgrading and
execute ALTER TABLE ENGINE=Mroonga after upgrading.</p></li>
</ul>
</div></blockquote>
<p>If without this fix, INSERT/UPDATE/SELECT/SELECT works well
but data stored in Groonga are wrong (Latitude and longitude are swapped in Groonga).
Therefore, mroonga_command(‘select …’) doesn「t work for spatial data.</p>
</div>
</div></blockquote>
<section id="id17">
<h3>Improvements<a class="headerlink" href="#id17" title="Permalink to this heading">¶</a></h3>
<ul>
<li><p>Renamed package names as below.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">mariadb-server-10.x-mroonga</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">mariadb-10.x-mroonga</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mysql-server-5.x-mroonga</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">mysql-community-5.x-mroonga</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mysql-server-8.x-mroonga</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">mysql-community-8.x-mroonga</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">percona-server-5x-mroonga</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">percona-server-5.x-mroonga</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">percona-server-8x-mroonga</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">percona-server-8.x-mroonga</span></code></p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="../install/debian.html"><span class="doc">Debian GNU/Linux</span></a>] Added support for the Oracle MySQL 5.7 package and the Oracle MySQL 8.0 package.</p>
<ul class="simple">
<li><p>In this release, we newly provided the package of Mroonga for Debian GNU/Linux with the Oracle MySQL 5.7 and the Oracle MySQL 8.0.</p>
<ul>
<li><p>By this, we make the Docker image of Mroonga with MySQL for Docker official images.</p></li>
</ul>
</li>
<li><p>There are below restrictions in the MySQL 8.0 package.</p>
<ul>
<li><p>[<a class="reference internal" href="../tutorial/wrapper.html"><span class="doc">Wrapper mode</span></a>] Wrapper mode is not supported yet.</p></li>
<li><p>[<a class="reference internal" href="../tutorial/storage.html"><span class="doc">Storage mode</span></a>] Storage mode does not support the following feature.</p>
<ul>
<li><p>The feature of relevant to the optimization.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>Added support for the SRID of Spatial Indexes.</p>
<ul class="simple">
<li><p>the index of Mroonga is used in search with <code class="docutils literal notranslate"><span class="pre">MBRContains</span></code> function on MySQL 8.x since this release.</p></li>
</ul>
</li>
<li><p>We added condition expressions that are applied condition push down.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Condition push down doesn’t evaluate condition expressions in MySQL, but it evaluate condition expressions in Mroonga.
Therefore, more queries will become high-performance, but the result of search may different than usual by Mroonga evaluate them.
If Mroonga returns unexpected search results, we request that you report from the below URL.
And we would like you to invalid for condition push down.</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://github.com/mroonga/mroonga/issues/">https://github.com/mroonga/mroonga/issues/</a></p></li>
</ul>
</div></blockquote>
<p>We can invalid condition push down as below.</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">GLOBAL</span> <span class="pre">mroonga_condition_push_down_type</span> <span class="pre">=</span> <span class="pre">&quot;NONE&quot;</span></code></p></li>
</ul>
</div></blockquote>
</div>
</li>
<li><p>[<a class="reference internal" href="../install/centos.html"><span class="doc">CentOS</span></a>] Added support for Percona Server 8.0.23</p></li>
</ul>
</section>
<section id="id18">
<h3>Fixes<a class="headerlink" href="#id18" title="Permalink to this heading">¶</a></h3>
<ul>
<li><p>Fixed a bug that latitude and longitude are stored conversely.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>backward compatibility is broken by this fix.</p>
<p>Users that are using <code class="docutils literal notranslate"><span class="pre">GEOMETRY</span></code> type need to store the current data before upgrading to Mroonga 11.03 and restore the stored data after upgrading to Mroonga 11.03.
Users can use the following methods for dumping/restoring data.</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">mysqldump</span></code></p></li>
<li><p>Execute <code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">TABLE</span> <span class="pre">ENGINE=InnoDB</span></code> before upgrading and execute <code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">TABLE</span> <span class="pre">ENGINE=Mroonga</span></code> after upgrading.</p></li>
</ul>
</div></blockquote>
<p>If without this fix, <code class="docutils literal notranslate"><span class="pre">INSERT/UPDATE/SELECT/SELECT</span></code> works well but data stored in Groonga are wrong (Latitude and longitude are swapped in Groonga). Therefore, <code class="docutils literal notranslate"><span class="pre">mroonga_command('select</span> <span class="pre">...')</span></code> doesn’t work for spatial data.</p>
</div>
</li>
</ul>
</section>
</section>
<section id="release-11-02-2021-05-10">
<span id="release-11-02"></span><h2>Release 11.02 - 2021-05-10<a class="headerlink" href="#release-11-02-2021-05-10" title="Permalink to this heading">¶</a></h2>
<section id="id19">
<h3>Improvements<a class="headerlink" href="#id19" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>[<a class="reference internal" href="../install/centos.html"><span class="doc">CentOS</span></a>] Added support for MySQL 5.7.34, 8.0.25.</p>
<ul>
<li><p>There are below restrictions in the MySQL 8.0 package.</p>
<ul>
<li><p>[<a class="reference internal" href="../tutorial/wrapper.html"><span class="doc">Wrapper mode</span></a>] Wrapper mode is not supported yet.</p></li>
<li><p>[<a class="reference internal" href="../tutorial/storage.html"><span class="doc">Storage mode</span></a>] Storage mode does not support the following feature.</p>
<ul>
<li><p>The feature of relevant to the optimization.</p></li>
<li><p>The SRID of Spatial Indexes.</p>
<ul>
<li><p>For example, the index of Mroonga is not used in search with <code class="docutils literal notranslate"><span class="pre">MBRContains</span></code> function.
(It search by sequential search.)</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>[<a class="reference internal" href="../install/centos.html"><span class="doc">CentOS</span></a>] Added support for MariaDB 10.2.38, 10.3.29, 10.4.19, and 10.5.10.</p></li>
<li><p>[<a class="reference internal" href="../install/ubuntu.html"><span class="doc">Ubuntu</span></a>] Dropped Ubuntu 16.04 (Xenial Xerus) support.</p>
<ul>
<li><p>Because it reached End of Standard Support at April, 2021.</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="release-11-01-2021-04-02">
<span id="release-11-01"></span><h2>Release 11.01 - 2021-04-02<a class="headerlink" href="#release-11-01-2021-04-02" title="Permalink to this heading">¶</a></h2>
<section id="id20">
<h3>Improvements<a class="headerlink" href="#id20" title="Permalink to this heading">¶</a></h3>
<ul>
<li><p>[<a class="reference internal" href="../install/centos.html"><span class="doc">CentOS</span></a>] Added support for MariaDB 10.2.37, 10.3.28, 10.4.18, and 10.5.9.</p></li>
<li><p>[<a class="reference internal" href="../install/centos.html"><span class="doc">CentOS</span></a>] Added support for Percona Server 5.7.33.</p></li>
<li><p>Added support for adding value with text in JSON format to reference vector columns as below.</p>
<ul class="simple">
<li><p>It makes easier to add JSON data into reference columns by this feature.
Because we can directly add values to columns for reference destination from the source table.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">attributes</span> <span class="p">(</span>
  <span class="n">_id</span> <span class="nb">int</span><span class="p">,</span>
  <span class="n">name</span> <span class="n">varchar</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span>
  <span class="n">value</span> <span class="n">varchar</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span>
<span class="p">)</span> <span class="n">DEFAULT</span> <span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8mb4</span><span class="p">;</span>

<span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">items</span> <span class="p">(</span>
  <span class="nb">id</span> <span class="nb">int</span> <span class="n">PRIMARY</span> <span class="n">KEY</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span>
  <span class="n">attributes</span> <span class="n">text</span> <span class="n">DEFAULT</span> <span class="n">NULL</span> <span class="n">flags</span><span class="o">=</span><span class="s1">&#39;COLUMN_VECTOR&#39;</span> <span class="n">groonga_type</span><span class="o">=</span><span class="s1">&#39;attributes&#39;</span>
<span class="p">);</span>

<span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">items</span> <span class="p">(</span><span class="n">attributes</span><span class="p">)</span>
  <span class="n">VALUES</span> <span class="p">(</span><span class="s1">&#39;[{&quot;name&quot;: &quot;color&quot;, &quot;value&quot;: &quot;white&quot;},</span>
            <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;size&quot;</span><span class="p">,</span>  <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;big&quot;</span><span class="p">}]</span><span class="s1">&#39;);</span>
<span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">items</span> <span class="p">(</span><span class="n">attributes</span><span class="p">)</span>
  <span class="n">VALUES</span> <span class="p">(</span><span class="s1">&#39;[{&quot;name&quot;: &quot;color&quot;, &quot;value&quot;: &quot;black&quot;}]&#39;</span><span class="p">);</span>
<span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">items</span> <span class="p">(</span><span class="n">attributes</span><span class="p">)</span> <span class="n">VALUES</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>

<span class="n">SELECT</span> <span class="o">*</span> <span class="n">FROM</span> <span class="n">attributes</span><span class="p">;</span>
  <span class="n">_id</span>      <span class="n">name</span>    <span class="n">value</span>
  <span class="mi">1</span>        <span class="n">color</span>   <span class="n">white</span>
  <span class="mi">2</span>        <span class="n">size</span>    <span class="n">big</span>
  <span class="mi">3</span>        <span class="n">color</span>   <span class="n">black</span>

<span class="n">SELECT</span> <span class="o">*</span> <span class="n">FROM</span> <span class="n">items</span><span class="p">;</span>
<span class="nb">id</span> <span class="n">attributes</span>
<span class="mi">1</span>  <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="mi">2</span>  <span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="mi">3</span>  <span class="p">[]</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="id21">
<h3>Fixes<a class="headerlink" href="#id21" title="Permalink to this heading">¶</a></h3>
<ul>
<li><p>Fixed a bug that FOREIGN KEY constraint was not registered. [GitHub#393][Reported by Kosuke Yamashita]</p>
<ul>
<li><p>This bug had only occurred on MySQL 8.0.</p></li>
<li><p>For example, the FOREIGN KEY constraint information had not been outputted even if we define it as below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">referred</span> <span class="p">(</span>
  <span class="nb">id</span> <span class="nb">int</span> <span class="n">PRIMARY</span> <span class="n">KEY</span> <span class="n">AUTO_INCREMENT</span>
<span class="p">);</span>

<span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">refer</span> <span class="p">(</span>
  <span class="nb">id</span> <span class="nb">int</span> <span class="n">PRIMARY</span> <span class="n">KEY</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span>
  <span class="n">id_referred</span> <span class="nb">int</span> <span class="n">NOT</span> <span class="n">NULL</span><span class="p">,</span>
  <span class="n">CONSTRAINT</span> <span class="n">id_referred</span> <span class="n">FOREIGN</span> <span class="n">KEY</span> <span class="p">(</span><span class="n">id_referred</span><span class="p">)</span> <span class="n">REFERENCES</span> <span class="n">referred</span> <span class="p">(</span><span class="nb">id</span><span class="p">)</span>
<span class="p">);</span>

<span class="n">SELECT</span> <span class="n">CONSTRAINT_NAME</span><span class="p">,</span> <span class="n">TABLE_NAME</span><span class="p">,</span> <span class="n">REFERENCED_TABLE_NAME</span>
       <span class="n">FROM</span> <span class="n">information_schema</span><span class="o">.</span><span class="n">REFERENTIAL_CONSTRAINTS</span><span class="p">;</span>
<span class="n">Empty</span> <span class="nb">set</span> <span class="p">(</span><span class="mf">0.000</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p>Fixed a bug that <code class="docutils literal notranslate"><span class="pre">DROP</span> <span class="pre">DATABASE</span></code> had failed if a target database had FOREIGN KEY constraint as below. [GitHub#390][Reported by Kosuke Yamashita]</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">DATABASE</span> <span class="n">another</span><span class="p">;</span>
<span class="n">USE</span> <span class="n">another</span><span class="p">;</span>

<span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">referred</span> <span class="p">(</span>
  <span class="nb">id</span> <span class="nb">int</span> <span class="n">PRIMARY</span> <span class="n">KEY</span> <span class="n">AUTO_INCREMENT</span>
<span class="p">)</span> <span class="n">ENGINE</span><span class="o">=</span><span class="n">mroonga</span> <span class="n">DEFAULT</span> <span class="n">CHARSET</span> <span class="n">utf8mb4</span><span class="p">;</span>

<span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">refer</span> <span class="p">(</span>
  <span class="nb">id</span> <span class="nb">int</span> <span class="n">PRIMARY</span> <span class="n">KEY</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span>
  <span class="n">id_referred</span> <span class="nb">int</span> <span class="n">NOT</span> <span class="n">NULL</span><span class="p">,</span>
  <span class="n">CONSTRAINT</span> <span class="n">id_referred</span> <span class="n">FOREIGN</span> <span class="n">KEY</span> <span class="p">(</span><span class="n">id_referred</span><span class="p">)</span> <span class="n">REFERENCES</span> <span class="n">referred</span> <span class="p">(</span><span class="nb">id</span><span class="p">)</span>
<span class="p">)</span> <span class="n">ENGINE</span><span class="o">=</span><span class="n">mroonga</span> <span class="n">DEFAULT</span> <span class="n">CHARSET</span> <span class="n">utf8mb4</span><span class="p">;</span>

<span class="n">DROP</span> <span class="n">DATABASE</span> <span class="n">another</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1016</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="p">[</span><span class="n">table</span><span class="p">][</span><span class="n">remove</span><span class="p">]</span> <span class="n">a</span> <span class="n">column</span> <span class="n">that</span> <span class="n">references</span> <span class="n">the</span> <span class="n">table</span> <span class="n">exists</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">refer</span><span class="o">.</span><span class="n">id_referred</span><span class="o">&gt;</span> <span class="o">-&gt;</span> <span class="o">&lt;</span><span class="n">referred</span><span class="o">&gt;</span>
</pre></div>
</div>
</li>
<li><p>Fixed a bug that <code class="docutils literal notranslate"><span class="pre">DROP</span> <span class="pre">COLUMN</span></code> had failed if a target table was referred a other table as below. [GitHub#389][Reported by Kosuke Yamashita]</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">referred</span> <span class="p">(</span>
  <span class="nb">id</span> <span class="nb">int</span> <span class="n">PRIMARY</span> <span class="n">KEY</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span>
  <span class="n">name</span> <span class="n">varchar</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span>
  <span class="n">text</span> <span class="n">text</span>
<span class="p">)</span> <span class="n">ENGINE</span><span class="o">=</span><span class="n">mroonga</span> <span class="n">DEFAULT</span> <span class="n">CHARSET</span> <span class="n">utf8mb4</span><span class="p">;</span>

<span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">refer</span> <span class="p">(</span>
  <span class="nb">id</span> <span class="nb">int</span> <span class="n">PRIMARY</span> <span class="n">KEY</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span>
  <span class="n">id_referred</span> <span class="nb">int</span> <span class="n">NOT</span> <span class="n">NULL</span><span class="p">,</span>
  <span class="n">CONSTRAINT</span> <span class="n">id_referred</span> <span class="n">FOREIGN</span> <span class="n">KEY</span> <span class="p">(</span><span class="n">id_referred</span><span class="p">)</span> <span class="n">REFERENCES</span> <span class="n">referred</span> <span class="p">(</span><span class="nb">id</span><span class="p">)</span>
<span class="p">)</span> <span class="n">ENGINE</span><span class="o">=</span><span class="n">mroonga</span> <span class="n">DEFAULT</span> <span class="n">CHARSET</span> <span class="n">utf8mb4</span><span class="p">;</span>

<span class="n">ALTER</span> <span class="n">TABLE</span> <span class="n">referred</span> <span class="n">DROP</span> <span class="n">COLUMN</span> <span class="n">name</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1016</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="p">[</span><span class="n">table</span><span class="p">][</span><span class="n">remove</span><span class="p">]</span> <span class="n">a</span> <span class="n">column</span> <span class="n">that</span> <span class="n">references</span> <span class="n">the</span> <span class="n">table</span> <span class="n">exists</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">refer</span><span class="o">.</span><span class="n">id_referred</span><span class="o">&gt;</span> <span class="o">-&gt;</span> <span class="o">&lt;</span><span class="c1">#sql2-3bc-25&gt;</span>
</pre></div>
</div>
</li>
<li><p>Fixed a build error when we built Mroonga with MariaDB 10.3.28, 10.4.18, or 10.5.9. [GitHub#392][Patched by Tomohiro KATO]</p></li>
<li><p>Fixed a bug that a update of Mroonga fails on MariaDB. [Reported by ひじー]</p></li>
</ul>
</section>
<section id="id22">
<h3>Thanks<a class="headerlink" href="#id22" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Kosuke Yamashita</p></li>
<li><p>Tomohiro KATO</p></li>
<li><p>ひじー</p></li>
</ul>
</section>
</section>
<section id="release-11-00-2021-02-09">
<span id="release-11-00"></span><h2>Release 11.00 - 2021-02-09<a class="headerlink" href="#release-11-00-2021-02-09" title="Permalink to this heading">¶</a></h2>
<p>This is a major version up! But It keeps backward compatibility.
You can upgrade to 11.00 without rebuilding database.</p>
<p>In this version, MySQL, MariaDB, or PerconaServer will be automatically restarted.
Because Mroonga 11.00 requires Groonga 11.0.0 or later but it will not reloaded
until MySQL, MariaDB, or PrerconaServer is restarted.</p>
<section id="id23">
<h3>Improvements<a class="headerlink" href="#id23" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>[<a class="reference internal" href="../install/centos.html"><span class="doc">CentOS</span></a>] Dropped support for MySQL 5.6</p>
<ul>
<li><p>Because it reached EOL at Feb 1, 2021.</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="../install/centos.html"><span class="doc">CentOS</span></a>] Dropped support for Percona Server 5.6</p></li>
<li><p>Dropped support for MariaDB 10.1 on Ubuntu 18.04 LTS.</p>
<ul>
<li><p>Because MariaDB 10.1 already has reached EOL in upstream.</p></li>
</ul>
</li>
<li><p>Updated version of Groonga to 11.0.0 or later that Mroonga requires.</p>
<ul>
<li><p>Because a high impact bug of index corruption is fixed in Groonga 11.0.0.</p></li>
</ul>
</li>
</ul>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">News - 11 series</a><ul>
<li><a class="reference internal" href="#release-11-13-2022-01-29">Release 11.13 - 2022-01-29</a><ul>
<li><a class="reference internal" href="#improvements">Improvements</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-11-11-2021-12-29">Release 11.11 - 2021-12-29</a><ul>
<li><a class="reference internal" href="#id1">Improvements</a></li>
<li><a class="reference internal" href="#fixes">Fixes</a></li>
<li><a class="reference internal" href="#thanks">Thanks</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-11-10-2021-11-29">Release 11.10 - 2021-11-29</a><ul>
<li><a class="reference internal" href="#id2">Improvements</a></li>
<li><a class="reference internal" href="#id3">Fixes</a></li>
<li><a class="reference internal" href="#id4">Thanks</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-11-09-2021-11-04">Release 11.09 - 2021-11-04</a><ul>
<li><a class="reference internal" href="#id5">Improvements</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-11-08-2021-10-06">Release 11.08 - 2021-10-06</a><ul>
<li><a class="reference internal" href="#id6">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-11-07-2021-09-29">Release 11.07 - 2021-09-29</a><ul>
<li><a class="reference internal" href="#id7">Improvements</a></li>
<li><a class="reference internal" href="#id8">Fixes</a></li>
<li><a class="reference internal" href="#id9">Thanks</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-11-06-2021-08-29">Release 11.06 - 2021-08-29</a><ul>
<li><a class="reference internal" href="#id10">Improvements</a></li>
<li><a class="reference internal" href="#id11">Thanks</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-11-05-2021-07-30">Release 11.05 - 2021-07-30</a><ul>
<li><a class="reference internal" href="#id12">Improvements</a></li>
<li><a class="reference internal" href="#id13">Fixes</a></li>
<li><a class="reference internal" href="#id14">Thanks</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-11-04-2021-06-29">Release 11.04 - 2021-06-29</a><ul>
<li><a class="reference internal" href="#id15">Improvements</a></li>
<li><a class="reference internal" href="#id16">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-11-03-2021-05-31">Release 11.03 - 2021-05-31</a><ul>
<li><a class="reference internal" href="#id17">Improvements</a></li>
<li><a class="reference internal" href="#id18">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-11-02-2021-05-10">Release 11.02 - 2021-05-10</a><ul>
<li><a class="reference internal" href="#id19">Improvements</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-11-01-2021-04-02">Release 11.01 - 2021-04-02</a><ul>
<li><a class="reference internal" href="#id20">Improvements</a></li>
<li><a class="reference internal" href="#id21">Fixes</a></li>
<li><a class="reference internal" href="#id22">Thanks</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-11-00-2021-02-09">Release 11.00 - 2021-02-09</a><ul>
<li><a class="reference internal" href="#id23">Improvements</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="../index.html">Mroonga v13.05 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">News - 11 series</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-2023, Mroonga Project.
    </div>
      <script src="http://connect.facebook.net/en_US/all.js"></script>

    <script>
      FB.init({
         appId  : null,
         status : true, // check login status
         cookie : true, // enable cookies to allow the server to access the session
         xfbml  : true  // parse XFBML
      });
    </script>
  </body>

</html>